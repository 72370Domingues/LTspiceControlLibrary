Version 4
SHEET 1 1004 1204
WIRE -112 -144 -128 -144
WIRE -16 -144 -32 -144
WIRE 64 -144 48 -144
WIRE -912 -64 -960 -64
WIRE -624 -64 -912 -64
WIRE -496 -64 -544 -64
WIRE -448 -64 -496 -64
WIRE -352 -64 -448 -64
WIRE -288 -64 -352 -64
WIRE -144 -64 -208 -64
WIRE -128 -64 -128 -144
WIRE -128 -64 -144 -64
WIRE -48 -64 -128 -64
WIRE 64 -64 64 -144
WIRE 64 -64 16 -64
WIRE 80 -64 64 -64
WIRE 192 -64 80 -64
WIRE -544 -32 -544 -64
WIRE -448 -32 -448 -64
WIRE 192 48 192 -64
WIRE -960 64 -960 -64
WIRE 80 64 80 -64
WIRE -624 80 -624 -64
WIRE -544 80 -544 32
WIRE -544 80 -624 80
WIRE -352 80 -352 -64
WIRE -144 96 -144 -64
WIRE -448 128 -448 32
WIRE -448 128 -624 128
WIRE -544 160 -544 80
WIRE -448 160 -448 128
WIRE -960 288 -960 144
WIRE -912 288 -960 288
WIRE -624 288 -624 128
WIRE -624 288 -912 288
WIRE -544 288 -544 224
WIRE -448 288 -448 224
WIRE -448 288 -544 288
WIRE -352 288 -352 144
WIRE -352 288 -448 288
WIRE -144 288 -144 176
WIRE -144 288 -352 288
WIRE 80 288 80 128
WIRE 80 288 -144 288
WIRE 192 288 192 128
WIRE 192 288 80 288
WIRE -544 304 -544 288
WIRE -368 464 -400 464
WIRE -368 496 -368 464
WIRE -928 528 -960 528
WIRE -880 528 -928 528
WIRE -800 528 -816 528
WIRE -752 528 -800 528
WIRE -720 528 -752 528
WIRE -624 528 -656 528
WIRE -592 528 -624 528
WIRE -448 528 -528 528
WIRE -400 528 -448 528
WIRE -320 528 -336 528
WIRE -288 528 -320 528
WIRE -208 528 -224 528
WIRE -192 528 -208 528
WIRE -160 528 -192 528
WIRE -64 528 -96 528
WIRE -32 528 -64 528
WIRE 80 528 32 528
WIRE 128 528 80 528
WIRE -960 576 -960 528
WIRE 160 576 160 560
WIRE -416 592 -448 592
WIRE -400 592 -416 592
WIRE -256 592 -256 560
WIRE -256 592 -304 592
WIRE -752 608 -752 528
WIRE -720 608 -752 608
WIRE -624 608 -656 608
WIRE -560 608 -560 560
WIRE -560 608 -624 608
WIRE -192 608 -192 528
WIRE -160 608 -192 608
WIRE -64 608 -96 608
WIRE 0 608 0 560
WIRE 0 608 -64 608
WIRE -448 672 -448 592
FLAG -544 304 0
FLAG -912 -64 AC_L
FLAG 192 -64 DC_P
FLAG -192 160 0
FLAG -912 288 AC_N
FLAG -192 112 PWM
FLAG -960 656 0
FLAG -848 560 DC_P
FLAG 160 656 0
FLAG 192 528 PWM
FLAG -928 528 VREF
FLAG -800 528 VERR
FLAG -624 528 IAREFP
FLAG -624 608 IAREFI
FLAG -448 528 IAREF
FLAG -400 464 DC_AC
FLAG -448 752 0
FLAG -64 528 MREFP
FLAG -64 608 MREFI
FLAG 80 528 MREF
FLAG -208 528 IERR
FLAG -416 592 IL
FLAG -320 528 IREF
FLAG -496 -64 DC_AC
SYMBOL voltage -960 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 {100*sqrt(2)} 50)
SYMBOL diode -560 32 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL res 176 32 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL diode -560 224 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode -464 32 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL diode -464 224 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL cap 64 64 R0
SYMATTR InstName C1
SYMATTR Value 500u
SYMBOL sw -144 192 M180
SYMATTR InstName S1
SYMBOL ind -304 -48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMBOL voltage -960 560 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 200
SYMBOL Math\\Operands\\sub -864 560 R0
SYMATTR InstName U8
SYMBOL TransferFunctions\\Proportional -704 560 R0
WINDOW 3 0 0 Left 2
SYMATTR Value K=0.2m
SYMATTR InstName U9
SYMBOL TransferFunctions\\Integral -704 640 R0
WINDOW 3 0 0 Left 2
SYMATTR Value T=100 Y0=0
SYMATTR InstName U10
SYMBOL Math\\Operands\\add -576 560 R0
SYMATTR InstName U11
SYMBOL voltage 160 560 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0 30u 1n 1n 30u)
SYMBOL Math\\Operands\\nle 144 560 R0
SYMATTR InstName U13
SYMBOL Math\\Operands\\mul -384 496 M180
SYMATTR InstName U15
SYMBOL bv -448 656 R0
SYMATTR InstName B1
SYMATTR Value V=I(L1)
SYMBOL Math\\Operands\\sub -272 560 R0
SYMATTR InstName U12
SYMBOL TransferFunctions\\1stOrderLag -384 624 R0
WINDOW 3 0 0 Left 2
SYMATTR Value K=1 T=0.1m
SYMATTR InstName U17
SYMBOL TransferFunctions\\Proportional -144 560 R0
WINDOW 3 0 0 Left 2
SYMATTR Value K=1
SYMATTR InstName U18
SYMBOL TransferFunctions\\Integral -144 640 R0
WINDOW 3 0 0 Left 2
SYMATTR Value T=1m Y0=0
SYMATTR InstName U19
SYMBOL Math\\Operands\\add -16 560 R0
SYMATTR InstName U20
SYMBOL diode -48 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL cap -368 80 R0
SYMATTR InstName C3
SYMATTR Value 0.1u
SYMBOL res -128 -128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap -16 -128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 100p
TEXT -968 -304 Left 2 !.tran 0 500m 0 startup
TEXT -968 -272 Left 2 !.model SW SW(Ron=1 Roff=1Meg Vt=0.5)
TEXT -1016 384 Left 4 ;Controller
TEXT -1024 -184 Left 4 ;Circuit
TEXT -968 -240 Left 2 !.ic V(DC_P)=140
TEXT -976 440 Left 2 ;voltage controller
TEXT -480 440 Left 2 ;current controller
TEXT 40 440 Left 2 ;PWM generator
TEXT -1024 -352 Left 4 ;Config
TEXT -1048 -472 Left 5 ;CCM-PFC
TEXT -1000 -424 Left 2 ;Continuous Conduction Mode Power Factor Correction
