Version 4
SHEET 1 2512 1924
WIRE 304 720 240 720
WIRE 688 720 304 720
WIRE 768 720 752 720
WIRE 800 720 768 720
WIRE 880 720 864 720
WIRE 944 720 880 720
WIRE 1104 720 1024 720
WIRE 1168 720 1104 720
WIRE 1328 720 1232 720
WIRE 752 752 752 720
WIRE 1104 752 1104 720
WIRE 1328 752 1328 720
WIRE 240 768 240 720
WIRE 688 768 688 720
WIRE 704 768 688 768
WIRE 880 768 880 720
WIRE 704 816 688 816
WIRE 240 864 240 848
WIRE 688 864 688 816
WIRE 688 864 240 864
WIRE 752 864 752 832
WIRE 880 864 880 832
WIRE 880 864 752 864
WIRE 1104 864 1104 832
WIRE 1104 864 880 864
WIRE 1328 864 1328 832
WIRE 1328 864 1104 864
WIRE 240 880 240 864
WIRE 1328 880 1328 864
WIRE 336 1056 320 1056
WIRE 544 1056 528 1056
WIRE 688 1056 544 1056
WIRE 720 1056 688 1056
WIRE 800 1056 784 1056
WIRE 816 1056 800 1056
WIRE 944 1056 928 1056
WIRE 960 1056 944 1056
WIRE 976 1056 960 1056
WIRE 800 1072 800 1056
WIRE 368 1104 368 1088
WIRE 544 1104 544 1056
WIRE 688 1104 672 1104
WIRE 752 1104 752 1088
WIRE 752 1104 688 1104
WIRE 944 1104 944 1056
WIRE 944 1104 832 1104
WIRE 1008 1104 1008 1088
WIRE 576 1152 576 1136
WIRE 800 1152 800 1136
WIRE 800 1152 576 1152
WIRE 1248 1328 1168 1328
WIRE 1488 1328 1360 1328
WIRE 1168 1392 1168 1328
WIRE 992 1408 928 1408
WIRE 1056 1408 992 1408
WIRE 928 1424 928 1408
WIRE 1136 1424 1120 1424
WIRE 1216 1424 1200 1424
WIRE 992 1440 992 1408
WIRE 1216 1456 1200 1456
WIRE 1408 1472 1392 1472
WIRE 1216 1488 1200 1488
WIRE 1488 1488 1488 1328
WIRE 1488 1488 1472 1488
WIRE 1504 1488 1488 1488
WIRE 352 1536 320 1536
WIRE 448 1536 416 1536
WIRE 496 1536 448 1536
WIRE 608 1536 592 1536
WIRE 720 1536 608 1536
WIRE 800 1536 784 1536
WIRE 880 1536 864 1536
WIRE 1024 1536 880 1536
WIRE 1088 1536 1088 1472
WIRE 1088 1536 1024 1536
WIRE 928 1568 832 1568
WIRE 1088 1568 1040 1568
WIRE 336 1584 320 1584
WIRE 384 1584 384 1568
WIRE 384 1584 336 1584
WIRE 1408 1584 1408 1504
WIRE 1408 1584 1392 1584
WIRE 608 1600 608 1536
WIRE 624 1600 608 1600
WIRE 752 1600 752 1568
WIRE 752 1600 736 1600
WIRE 1440 1600 1440 1536
WIRE 320 1616 320 1584
WIRE 880 1664 880 1536
WIRE 896 1664 880 1664
WIRE 896 1696 880 1696
WIRE 1088 1712 1088 1568
WIRE 1088 1712 1072 1712
WIRE 896 1728 880 1728
WIRE 880 1808 880 1728
WIRE 1200 1808 1200 1488
WIRE 1200 1808 880 1808
WIRE 880 1824 880 1808
FLAG 240 880 0
FLAG 304 720 S_IN
FLAG 1328 880 0
FLAG 1056 768 X
FLAG 1040 1056 X
FLAG 1008 1184 0
FLAG 1056 816 0
FLAG 1328 720 V_OUT
FLAG 688 1056 m*_p
FLAG 688 1104 m*_i
FLAG 960 1056 m*
FLAG 336 1584 i_scm
FLAG 320 1536 V_SCM
FLAG 448 1536 pw_scm
FLAG 368 1104 V_SCM
FLAG 1200 1456 0
FLAG 880 1904 0
FLAG 928 1504 0
FLAG 880 1696 0
FLAG 1504 1488 v_scm*
FLAG 1392 1584 V_SCM
FLAG 1440 1680 0
FLAG 320 1056 v_scm*
FLAG 320 1696 0
FLAG 1024 1536 inc_dec
FLAG 768 720 V_SCM
SYMBOL voltage 240 752 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(200 1000 0 1m 1m 100m 200m)
SYMBOL cap 864 768 R0
SYMATTR InstName C1
SYMATTR Value 100u
SYMBOL diode 1168 736 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL ind 928 736 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMBOL sw 1104 848 M180
SYMATTR InstName S1
SYMBOL nle 992 1088 R0
SYMATTR InstName U3
SYMBOL sub 352 1088 R0
SYMATTR InstName U6
SYMBOL Integral 624 1136 R0
SYMATTR Value T=10m
SYMATTR InstName U7
SYMBOL Proportional 480 1088 R0
SYMATTR Value K=0.1
SYMATTR InstName U8
SYMBOL add 736 1088 R0
SYMATTR InstName U9
SYMBOL TriangleWaveVoltage 1008 1088 R0
SYMATTR InstName U11
SYMATTR Value V1=0 V2=1 Tperiod={1/10k} tratio=1
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul 368 1568 R0
SYMATTR InstName U4
SYMBOL Misc\\battery 1328 736 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 24
SYMBOL LTspiceControlLibrary\\Math\\Operands\\neg 416 1088 R0
SYMATTR InstName U2
SYMBOL LTspiceControlLibrary\\Math\\Functions\\limit 832 1088 R0
SYMATTR Value y=0 z=1
SYMATTR InstName U5
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub 560 1136 R0
SYMATTR InstName U10
SYMBOL LTspiceControlLibrary\\Math\\Operands\\sub 832 1088 M90
SYMATTR InstName U12
SYMBOL SpecialFunctions\\sample 1296 1456 R0
WINDOW 3 -64 -52 Left 2
SYMATTR Value Vhigh=1T Vlow=-1T
SYMATTR InstName A1
SYMBOL LTspiceControlLibrary\\Math\\Functions\\delay 1344 1360 M0
WINDOW 3 80 1 Right 2
SYMATTR Value t={0.5*Tpo}
SYMATTR InstName U13
SYMBOL voltage 880 1808 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 1 {Tpo} 0.1n 0.1n {0.5*Tpo} {Tpo})
SYMBOL LTspiceControlLibrary\\Math\\Functions\\if 1072 1472 R0
SYMATTR InstName U14
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add 1152 1392 M180
SYMATTR InstName U15
SYMBOL LTspiceControlLibrary\\Math\\Operands\\neg 1008 1472 R0
SYMATTR InstName U16
SYMBOL voltage 928 1408 R0
SYMATTR InstName V5
SYMATTR Value {Vpo}
SYMBOL LTspiceControlLibrary\\TransferFunctions\\1stOrderLag 512 1568 R0
SYMATTR Value K=1 T={0.3*Tpo}
SYMATTR InstName U17
SYMBOL LTspiceControlLibrary\\Math\\Functions\\delay 640 1632 R0
SYMATTR Value t={Tpo}
SYMATTR InstName U18
SYMBOL SpecialFunctions\\sample 976 1696 R0
WINDOW 3 -64 -52 Left 2
SYMATTR Value Vhigh=1T Vlow=-1T
SYMATTR InstName A2
SYMBOL LTspiceControlLibrary\\Math\\Functions\\delay 1024 1600 M0
WINDOW 3 80 1 Right 2
SYMATTR Value t={0.5*Tpo}
SYMATTR InstName U19
SYMBOL LTspiceControlLibrary\\Math\\Operands\\xor 816 1568 R0
SYMATTR InstName U20
SYMBOL LTspiceControlLibrary\\Math\\Operands\\lt 736 1568 R0
SYMATTR InstName U21
SYMBOL LTspiceControlLibrary\\Math\\Functions\\if 1424 1536 R0
SYMATTR InstName U22
SYMBOL bv 1440 1584 R0
SYMATTR InstName B3
SYMATTR Value V=(time>Tpo*1.001)
SYMBOL bv 320 1600 R0
SYMATTR InstName B2
SYMATTR Value V=I(L2)
SYMBOL FerriteBead 832 720 R270
WINDOW 0 16 0 VTop 2
SYMATTR InstName L2
SYMATTR Value 1n
SYMBOL LTspiceControlLibrary\\EnergyConverters\\SolarCells 752 736 R0
WINDOW 3 -128 80 Invisible 2
SYMATTR Value Nser={Nser} Nper={Nper} S0={S0} Isc0={Isc0} Rser1={Rser1} Rper1={Rper1} Is={Is} Eg={Eg} N={N}
SYMATTR InstName U1
TEXT 712 424 Left 2 !** solar cell paramteres\n.params Nser=36 Nper=1\n.params S0=1000 Isc0=1\n.params Rser1=10m Rper1=1k\n.params Is=10n Eg=1.11 N=1.2
TEXT 240 672 Left 2 ;light intensity
TEXT 1280 656 Left 2 ;battery
TEXT 192 440 Left 2 !.tran 0 500m 0
TEXT 192 472 Left 2 !.model SW SW(Ron=.1 Roff=1Meg Vt=0.5)\n.model D D(Ron=.1 Roff=1Meg Vfwd=.4)
TEXT 168 584 Left 4 ;Circuit
TEXT 160 936 Left 4 ;Controller
TEXT 192 528 Left 2 !.ic V(OUT)=10
TEXT 240 984 Left 2 ;solar cell module\nvoltage controller
TEXT 984 1000 Left 2 ;PWM
TEXT 168 392 Left 4 ;Config
TEXT 128 272 Left 5 ;Solar Cell Maximum-Power-Point-Tracking\nUsing Perturb and Observe Method
TEXT 1016 648 Left 2 ;boost converter
TEXT 376 1384 Left 2 !** p&o method parameters\n.params Tpo=2m Vpo=0.2
TEXT 224 1288 Left 2 ;perturb and observe method
